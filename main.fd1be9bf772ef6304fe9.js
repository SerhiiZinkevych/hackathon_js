(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/l+y":function(e,t,a){},"5qlM":function(e,t,a){},KgNg:function(e,t,a){},L1EO:function(e,t,a){},QTlZ:function(e,t,a){var n=a("mp5j");e.exports=(n.default||n).template({1:function(e,t,a,n,l){var o,i=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,d="function",c=e.escapeExpression;return'        <li class="itemCard" data-movieID="'+c(typeof(o=null!=(o=a.id||(null!=t?t.id:t))?o:r)===d?o.call(i,{name:"id",hash:{},data:l,loc:{start:{line:3,column:43},end:{line:3,column:49}}}):o)+'">\n                <a href="#" class="close hide" data-movieID="'+c(typeof(o=null!=(o=a.id||(null!=t?t.id:t))?o:r)===d?o.call(i,{name:"id",hash:{},data:l,loc:{start:{line:4,column:61},end:{line:4,column:67}}}):o)+'"></a>\n                <a href="#id='+c(typeof(o=null!=(o=a.id||(null!=t?t.id:t))?o:r)===d?o.call(i,{name:"id",hash:{},data:l,loc:{start:{line:5,column:29},end:{line:5,column:35}}}):o)+'" onclick="location.replace(\'#id='+c(typeof(o=null!=(o=a.id||(null!=t?t.id:t))?o:r)===d?o.call(i,{name:"id",hash:{},data:l,loc:{start:{line:5,column:68},end:{line:5,column:74}}}):o)+'\')">\n                        <img src="https://image.tmdb.org/t/p/w500'+c(typeof(o=null!=(o=a.backdrop_path||(null!=t?t.backdrop_path:t))?o:r)===d?o.call(i,{name:"backdrop_path",hash:{},data:l,loc:{start:{line:6,column:65},end:{line:6,column:82}}}):o)+'" alt="filmImg">\n                        <h2>'+c(typeof(o=null!=(o=a.title||(null!=t?t.title:t))?o:r)===d?o.call(i,{name:"title",hash:{},data:l,loc:{start:{line:7,column:28},end:{line:7,column:37}}}):o)+" ("+c(typeof(o=null!=(o=a.release_date||(null!=t?t.release_date:t))?o:r)===d?o.call(i,{name:"release_date",hash:{},data:l,loc:{start:{line:7,column:39},end:{line:7,column:55}}}):o)+")</h2>\n                </a>\n        </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,a,n,l){var o;return'<ul class="movie-cards">\n'+(null!=(o=a.each.call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:2,column:8},end:{line:10,column:17}}}))?o:"")+"</ul>"},useData:!0})},QfWi:function(e,t,a){"use strict";a.r(t);a("L1EO"),a("lfAJ"),a("KgNg"),a("W62a"),a("5qlM"),a("/l+y"),a("m6Dc"),a("PzF0");var n={body:document.querySelector("body"),logo:document.querySelector(".site-logo"),intro:document.querySelector(".intro"),container:document.querySelector("#container"),serchForm:document.querySelector(".search-form"),textArea:document.querySelector("#search-form"),cardContainer:document.querySelector("#container"),cardList:document.querySelector(".card_list"),library:document.querySelector("#nav-libery"),sidebar:document.querySelector(".sidebar"),sidebarWatchBtn:document.querySelector(".sidebar_watch"),sidebarQueueBtn:document.querySelector(".sidebar_queue"),loadMoreBtn:document.querySelector(".loadMoreBtn"),btnAddWatch:document.querySelector(".btnAddWatch"),btnAddQueue:document.querySelector(".btnAddQueue")},l=a("czhI"),o=a.n(l);o.a.defaults.baseURL="https://api.themoviedb.org/3/";const i="8b49236e6b82eb62c6f5cab7126e8684";var r={currPage:1,getPopularFilms:()=>o.a.get(`/movie/popular/?api_key=${i}`).then(e=>e.data.results),getInfoById(e){return e=this.getMovieIdFromLink()?this.getMovieIdFromLink():e,o.a.get(`/movie/${e}?api_key=${i}`).then(e=>e.data)},getPageFromLink:()=>location.hash.split("#page=")[1],getMoviesByQuery(){return o.a.get(`/search/movie?api_key=${i}&page=${this.currPage}&query=${n.textArea.value}&include_adult=false&language=en-US`).then(e=>(this.currPage+=1,e.data.results))},getMovieIdFromLink:()=>location.hash.split("#id=")[1],getSimilarMovies(){return o.a.get(`/movie/${this.getMovieIdFromLink()}/similar?api_key=${i}`).then(e=>e.data.results)}};var d={setWatchedMovieIdToLocalStorage(e){let t=localStorage.getItem("watched"),a=t?JSON.parse(t):[];a.find(t=>t.id===e.id)||(a.push(e),localStorage.setItem("watched",JSON.stringify(a)))},getWatchedMovieIdToLocalStorage(){const e=localStorage.getItem("watched");return JSON.parse(e)},deleteWatchedMovieIdFromLocalStorage(e){let t=localStorage.getItem("watched"),a=t?JSON.parse(t):[],n=a.find(t=>t.id===Number(e));if(n){const e=a.indexOf(n);a.splice(e,1)}localStorage.setItem("watched",JSON.stringify(a))},setQueueMovieIdToLocalStorage(e){let t=localStorage.getItem("queue"),a=t?JSON.parse(t):[];a.find(t=>t.id===e.id)||(a.push(e),localStorage.setItem("queue",JSON.stringify(a)))},getQueueMovieIdToLocalStorage(){const e=localStorage.getItem("queue");return JSON.parse(e)},deleteQueueMovieIdFromLocalStorage(e){let t=localStorage.getItem("queue"),a=t?JSON.parse(t):[],n=a.find(t=>t.id===Number(e));if(n){const e=a.indexOf(n);a.splice(e,1)}localStorage.setItem("queue",JSON.stringify(a))}};const c=()=>{$(".similarMovies").slick({dots:!0,infinite:!0,speed:300,slidesToShow:3,centerMode:!0,variableWidth:!0,slidesToScroll:4,centerPadding:"60px",arrows:!0,autoplay:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})};var s=a("QTlZ"),u=a.n(s),m=a("RK3n"),h=a.n(m),p=a("b5mA"),v=a.n(p);const g={createMarkup(e,t,a,n=!1){n?a.insertAdjacentHTML("beforeend",t(e)):a.innerHTML=t(e)},mainPage(){r.getPopularFilms().then(e=>this.createMarkup(e,u.a,n.cardList))},card(e){r.getInfoById(e).then(e=>this.createMarkup(e,h.a,n.cardList)).then(()=>{n.btnAddWatch=document.querySelector(".btnAddWatch"),n.btnAddQueue=document.querySelector(".btnAddQueue"),this.rerenderButtons(),n.btnAddWatch.addEventListener("click",f),n.btnAddQueue.addEventListener("click",b)}).then(()=>{this.renderSimilarMovies()})},renderSimilarMovies(){r.getSimilarMovies().then(e=>this.createMarkup(e,v.a,n.cardList,!0)).then(c)},cardsByQuerry(e=!1){r.getMoviesByQuery().then(t=>this.createMarkup(t,u.a,n.cardList,e))},renderLibraryWatched(){const e=d.getWatchedMovieIdToLocalStorage();this.createMarkup(e,u.a,n.cardList)},renderLibraryQueued(){const e=d.getQueueMovieIdToLocalStorage();this.createMarkup(e,u.a,n.cardList)},rerenderButtons(){const e=d.getWatchedMovieIdToLocalStorage();let t=!1,a=!1;e&&(t=e.find(e=>e.id===Number(n.btnAddWatch.dataset.movieid)));const l=d.getQueueMovieIdToLocalStorage();l&&(a=l.find(e=>e.id===Number(n.btnAddQueue.dataset.movieid))),t?(n.btnAddWatch.textContent="Remove from watched",n.btnAddWatch.dataset.action="remove"):(n.btnAddWatch.textContent="Add to watched",n.btnAddWatch.dataset.action="add"),a?(n.btnAddQueue.textContent="Remove from queue",n.btnAddQueue.dataset.action="remove"):(n.btnAddQueue.textContent="Add to queue",n.btnAddQueue.dataset.action="add")}};function f(e){const t=r.getMovieIdFromLink();"add"===e.currentTarget.dataset.action?r.getInfoById(t).then(d.setWatchedMovieIdToLocalStorage).then(g.rerenderButtons):"remove"===e.currentTarget.dataset.action&&(d.deleteWatchedMovieIdFromLocalStorage(t),g.rerenderButtons())}function b(e){const t=r.getMovieIdFromLink();"add"===e.currentTarget.dataset.action?r.getInfoById(t).then(d.setQueueMovieIdToLocalStorage).then(g.rerenderButtons):"remove"===e.currentTarget.dataset.action&&(d.deleteQueueMovieIdFromLocalStorage(t),g.rerenderButtons())}var y=g;var S={hideSearchForm(){n.textArea.hidden=!0},showSearchForm(){n.textArea.hidden=!1},hideSidebar(){n.sidebar.classList.add("hide")},showSidebar(){n.sidebar.classList.remove("hide")},hideLoadBtn(){n.loadMoreBtn.classList.add("hide")},showLoadBtn(){n.loadMoreBtn.classList.remove("hide")},hideCloseBtn(){const e=document.querySelectorAll(".close");for(const t of e)t.classList.add("hide")},showCloseBtn(){Array.from(n.closeBtn).map(e=>e.classList.remove("hide"))},activeWatchBtn(){n.sidebarWatchBtn.classList.add("active")},disactiveWatchBtn(){n.sidebarWatchBtn.classList.remove("active")},activeQueueBtn(){n.sidebarQueueBtn.classList.add("active")},disactiveQueueBtn(){n.sidebarQueueBtn.classList.remove("active")}};S.hideSidebar(),S.hideLoadBtn(),S.hideCloseBtn(),S.showSearchForm(),n.cardList.addEventListener("click",e=>{"A"===e.target.parentNode.nodeName&&y.card(e.target.parentNode.parentNode.dataset.movieid)}),n.serchForm.addEventListener("submit",e=>{e.preventDefault(),S.showLoadBtn(),r.currPage=1,n.cardList.innerHTML="",y.cardsByQuerry()});const L=r.getMovieIdFromLink();L?y.card(L):y.mainPage(),n.loadMoreBtn.addEventListener("click",()=>{y.cardsByQuerry(!0)}),n.library.addEventListener("click",()=>{y.renderLibraryWatched(),S.hideSearchForm(),S.showSidebar(),S.activeWatchBtn()}),n.sidebarWatchBtn.addEventListener("click",()=>{y.renderLibraryWatched(),S.activeWatchBtn(),S.disactiveQueueBtn()}),n.sidebarQueueBtn.addEventListener("click",()=>{y.renderLibraryQueued(),S.activeQueueBtn(),S.disactiveWatchBtn()})},RK3n:function(e,t,a){var n=a("mp5j");e.exports=(n.default||n).template({1:function(e,t,a,n,l){return'\n            <li class="genre">'+e.escapeExpression(e.lambda(null!=t?t.name:t,t))+"</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,a,n,l){var o,i,r=null!=t?t:e.nullContext||{},d=e.hooks.helperMissing,c="function",s=e.escapeExpression;return'<div class="film-card container">\n    <img src="https://image.tmdb.org/t/p/w500'+s(typeof(i=null!=(i=a.poster_path||(null!=t?t.poster_path:t))?i:d)===c?i.call(r,{name:"poster_path",hash:{},data:l,loc:{start:{line:2,column:45},end:{line:2,column:60}}}):i)+'" alt="filmImg" class="img-film-card">\n\n    <div class="movieInfo">\n        <h2>'+s(typeof(i=null!=(i=a.title||(null!=t?t.title:t))?i:d)===c?i.call(r,{name:"title",hash:{},data:l,loc:{start:{line:5,column:12},end:{line:5,column:21}}}):i)+'</h2>\n        <p class="bgrn-p ">vote / votes <span class="spase">'+s(typeof(i=null!=(i=a.vote_average||(null!=t?t.vote_average:t))?i:d)===c?i.call(r,{name:"vote_average",hash:{},data:l,loc:{start:{line:6,column:60},end:{line:6,column:76}}}):i)+" / "+s(typeof(i=null!=(i=a.vote_count||(null!=t?t.vote_count:t))?i:d)===c?i.call(r,{name:"vote_count",hash:{},data:l,loc:{start:{line:6,column:79},end:{line:6,column:93}}}):i)+'</span></p>\n        <p>popularity <span class="spase"></span>'+s(typeof(i=null!=(i=a.popularity||(null!=t?t.popularity:t))?i:d)===c?i.call(r,{name:"popularity",hash:{},data:l,loc:{start:{line:7,column:49},end:{line:7,column:63}}}):i)+'</span></p>\n        <p class="bgrn-p">origin title<span class="spase"></span>'+s(typeof(i=null!=(i=a.original_title||(null!=t?t.original_title:t))?i:d)===c?i.call(r,{name:"original_title",hash:{},data:l,loc:{start:{line:8,column:65},end:{line:8,column:83}}}):i)+'</span></p>\n        <p class="float-p-genre">genre</p>\n        <ul>'+(null!=(o=a.each.call(r,null!=t?t.genres:t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:10,column:12},end:{line:12,column:21}}}))?o:"")+"        </ul>\n        <article class='about-film'>\n            <h3>About</h3>\n            <p>"+s(typeof(i=null!=(i=a.overview||(null!=t?t.overview:t))?i:d)===c?i.call(r,{name:"overview",hash:{},data:l,loc:{start:{line:16,column:15},end:{line:16,column:27}}}):i)+'</p>\n        </article>\n\n        <button class="btnAddWatch" data-action="add" data-movieID="'+s(typeof(i=null!=(i=a.id||(null!=t?t.id:t))?i:d)===c?i.call(r,{name:"id",hash:{},data:l,loc:{start:{line:19,column:68},end:{line:19,column:74}}}):i)+'">Add to watched</button>\n        <button class="btnAddQueue" data-action="add" data-movieID="'+s(typeof(i=null!=(i=a.id||(null!=t?t.id:t))?i:d)===c?i.call(r,{name:"id",hash:{},data:l,loc:{start:{line:20,column:68},end:{line:20,column:74}}}):i)+'">Add to queue</button>\n\n    </div>\n\n</div>\n'},useData:!0})},W62a:function(e,t,a){},b5mA:function(e,t,a){var n=a("mp5j");e.exports=(n.default||n).template({1:function(e,t,a,n,l){var o,i=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,d=e.escapeExpression;return'\n    <div class="slider-item">\n        <a href="#id='+d("function"==typeof(o=null!=(o=a.id||(null!=t?t.id:t))?o:r)?o.call(i,{name:"id",hash:{},data:l,loc:{start:{line:6,column:21},end:{line:6,column:27}}}):o)+'" onclick="location.replace(\'#id='+d("function"==typeof(o=null!=(o=a.id||(null!=t?t.id:t))?o:r)?o.call(i,{name:"id",hash:{},data:l,loc:{start:{line:6,column:60},end:{line:6,column:66}}}):o)+'\');location.reload();">\n            <img src="https://image.tmdb.org/t/p/w500'+d("function"==typeof(o=null!=(o=a.backdrop_path||(null!=t?t.backdrop_path:t))?o:r)?o.call(i,{name:"backdrop_path",hash:{},data:l,loc:{start:{line:7,column:53},end:{line:7,column:70}}}):o)+'" alt="" />\n            <h2>'+d("function"==typeof(o=null!=(o=a.title||(null!=t?t.title:t))?o:r)?o.call(i,{name:"title",hash:{},data:l,loc:{start:{line:8,column:16},end:{line:8,column:25}}}):o)+"</h2>\n        </a>\n    </div>\n\n"},compiler:[8,">= 4.3.0"],main:function(e,t,a,n,l){var o;return'<h2 class="similarTitle">Similar movies</h2>\n<div class="similarMovies" data-slick=\'{"slidesToShow": 4, "slidesToScroll": 4}\'>\n'+(null!=(o=a.each.call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:3,column:4},end:{line:13,column:13}}}))?o:"")+"\n</div>"},useData:!0})},lfAJ:function(e,t,a){},m6Dc:function(e,t,a){}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.fd1be9bf772ef6304fe9.js.map
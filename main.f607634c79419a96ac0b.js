(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/l+y":function(e,t,a){},"5qlM":function(e,t,a){},KgNg:function(e,t,a){},L1EO:function(e,t,a){},QTlZ:function(e,t,a){var n=a("mp5j");e.exports=(n.default||n).template({1:function(e,t,a,n,o){var l,i=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s="function",c=e.escapeExpression;return'        <li class="itemCard" data-movieID="'+c(typeof(l=null!=(l=a.id||(null!=t?t.id:t))?l:r)===s?l.call(i,{name:"id",hash:{},data:o,loc:{start:{line:3,column:43},end:{line:3,column:49}}}):l)+'">\n                <a href="#" class="close hide" data-movieID="'+c(typeof(l=null!=(l=a.id||(null!=t?t.id:t))?l:r)===s?l.call(i,{name:"id",hash:{},data:o,loc:{start:{line:4,column:61},end:{line:4,column:67}}}):l)+'"></a>\n                <a href="#id='+c(typeof(l=null!=(l=a.id||(null!=t?t.id:t))?l:r)===s?l.call(i,{name:"id",hash:{},data:o,loc:{start:{line:5,column:29},end:{line:5,column:35}}}):l)+'" onclick="location.replace(\'#id='+c(typeof(l=null!=(l=a.id||(null!=t?t.id:t))?l:r)===s?l.call(i,{name:"id",hash:{},data:o,loc:{start:{line:5,column:68},end:{line:5,column:74}}}):l)+'\')">\n                        <img src="https://image.tmdb.org/t/p/w500'+c(typeof(l=null!=(l=a.backdrop_path||(null!=t?t.backdrop_path:t))?l:r)===s?l.call(i,{name:"backdrop_path",hash:{},data:o,loc:{start:{line:6,column:65},end:{line:6,column:82}}}):l)+'" alt="filmImg">\n                        <h2>'+c(typeof(l=null!=(l=a.title||(null!=t?t.title:t))?l:r)===s?l.call(i,{name:"title",hash:{},data:o,loc:{start:{line:7,column:28},end:{line:7,column:37}}}):l)+" ("+c(typeof(l=null!=(l=a.release_date||(null!=t?t.release_date:t))?l:r)===s?l.call(i,{name:"release_date",hash:{},data:o,loc:{start:{line:7,column:39},end:{line:7,column:55}}}):l)+")</h2>\n                </a>\n        </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,a,n,o){var l;return'<ul class="movie-cards">\n'+(null!=(l=a.each.call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:8},end:{line:10,column:17}}}))?l:"")+"</ul>"},useData:!0})},QfWi:function(e,t,a){"use strict";a.r(t);a("L1EO"),a("lfAJ"),a("KgNg"),a("W62a"),a("5qlM"),a("/l+y"),a("m6Dc"),a("M5ur"),a("9va6"),a("dcBu"),a("PzF0");var n=a("RK3n"),o=a.n(n);var l={body:document.querySelector("body"),logo:document.querySelector(".site-logo"),intro:document.querySelector(".intro"),container:document.querySelector("#container"),serchForm:document.querySelector(".search-form"),textArea:document.querySelector("#search-form"),cardContainer:document.querySelector("#container"),cardList:document.querySelector(".card_list"),library:document.querySelector("#nav-libery"),sidebar:document.querySelector(".sidebar"),sidebarWatchBtn:document.querySelector(".sidebar_watch"),sidebarQueueBtn:document.querySelector(".sidebar_queue"),loadMoreBtn:document.querySelector(".loadMoreBtn")};a("dIfx"),a("UOjr"),a("mNaS");var i=a("QTlZ"),r=a.n(i),s=a("b5mA"),c=a.n(s),d=a("czhI"),u=a.n(d);u.a.defaults.baseURL="https://api.themoviedb.org/3/";const m="8b49236e6b82eb62c6f5cab7126e8684";var h={currPage:1,getPopularFilms:()=>u.a.get(`/movie/popular/?api_key=${m}`).then(e=>e.data),getInfoById(e){return e=this.getMovieIdFromLink()?this.getMovieIdFromLink():e,u.a.get(`/movie/${e}?api_key=${m}`).then(e=>e.data)},getMoviesByQuery(e){return this.currPage=this.getPageFromLink()?this.getPageFromLink():this.currPage,u.a.get(`/search/movie?api_key=${m}&page=${this.currPage}&query=${e}&include_adult=false&language=en-US`).then(e=>(this.currPage+=1,e.data))},getPageFromLink:()=>location.hash.split("#page=")[1],getMovieIdFromLink:()=>location.hash.split("#id=")[1],getSimilarMovies(e){return e=this.getMovieIdFromLink()?this.getMovieIdFromLink():e,u.a.get(`/movie/${e}/similar?api_key=${m}`).then(e=>e.data)}};var p={setWatchedMovieIdToLocalStorage(e){let t=localStorage.getItem("watched"),a=t?JSON.parse(t):[];a.find(t=>t.id===e.id)||(a.push(e),localStorage.setItem("watched",JSON.stringify(a)))},getWatchedMovieIdToLocalStorage(){const e=localStorage.getItem("watched");return JSON.parse(e)},deleteWatchedMovieIdFromLocalStorage(e){let t=localStorage.getItem("watched"),a=t?JSON.parse(t):[],n=a.find(t=>t.id===Number(e));if(n){const e=a.indexOf(n);a.splice(e,1)}localStorage.setItem("watched",JSON.stringify(a))},setQueueMovieIdToLocalStorage(e){let t=localStorage.getItem("queue"),a=t?JSON.parse(t):[];a.find(t=>t.id===e.id)||(a.push(e),localStorage.setItem("queue",JSON.stringify(a)))},getQueueMovieIdToLocalStorage(){const e=localStorage.getItem("queue");return JSON.parse(e)},deleteQueueMovieIdFromLocalStorage(e){let t=localStorage.getItem("queue"),a=t?JSON.parse(t):[],n=a.find(t=>t.id===Number(e));if(console.log(n),n){const e=a.indexOf(n);a.splice(e,1)}localStorage.setItem("queue",JSON.stringify(a))}};var g={offSidebar(){l.sidebar.classList.add("hide")},onSidebar(){l.sidebar.classList.remove("hide")},offLoadBtn(){l.loadMoreBtn.classList.add("hide")},onLoadBtn(){l.loadMoreBtn.classList.remove("hide")},offCloseBtn(){const e=document.querySelectorAll(".close");console.log(e);for(const t of e)t.classList.add("hide"),console.log(t)},onCloseBtn(){Array.from(l.closeBtn).map(e=>e.classList.remove("hide"))},onWatchBtn(){l.sidebarWatchBtn.classList.add("active")},offWatchBtn(){l.sidebarWatchBtn.classList.remove("active")},onQueueBtn(){l.sidebarQueueBtn.classList.add("active")},offQueueBtn(){l.sidebarQueueBtn.classList.remove("active")}};var f={mainPage(){h.getPopularFilms().then(e=>{e.results.map(e=>e.release_date=e.release_date.split("-")[0]);const t=r()(e.results);l.cardList.innerHTML="",this.insertCardsToMainPage(t),this.setOnclick()})},card(e){h.getInfoById(e).then(t=>{g.offLoadBtn();const a=o()(t);this.insertCardToMain(a),this.rerenderButtons(),this.setOnclickAddWatch(),this.setOnclickAddQueue(),h.getSimilarMovies(e).then(e=>{const t=c()(e.results);this.insertSimilarMoviesToCard(t),$(".similarMovies").slick({dots:!0,infinite:!0,speed:300,slidesToShow:1,centerMode:!0,variableWidth:!0,centerPadding:"60px",arrows:!0,autoplay:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})})})},buildCartTemplate:e=>o()(e),buildSimilarMoviesTemplate:e=>c()(e),insertSimilarMoviesToCard(e){l.cardList.insertAdjacentHTML("beforeend",e)},insertCardToMain(e){l.cardList.innerHTML="",l.cardList.innerHTML=e,l.textArea.hidden=!0},insertCardsToMainPage(e){l.cardList.insertAdjacentHTML("beforeend",e)},showCardsByquery(e){h.getMoviesByQuery(e).then(e=>{e.results.map(e=>e.release_date=e.release_date.split("-")[0]);const t=r()(e.results);this.insertCardsToMainPage(t),this.setOnclick()})},setOnclick(){const e=document.querySelectorAll(".itemCard");for(const t of e)t.addEventListener("click",e=>{if("A"!=e.target.nodeName){const t=e.currentTarget.dataset.movieid;this.card(t)}})},setOnclickAddWatch(){const e=document.querySelector(".btnAddWatch");e.addEventListener("click",t=>{const a=t.currentTarget.dataset.movieid;if("add"===e.dataset.action){const e=p.setWatchedMovieIdToLocalStorage;h.getInfoById(a).then(e).then(this.rerenderButtons)}else"remove"===e.dataset.action&&h.getInfoById(a).then(p.deleteWatchedMovieIdFromLocalStorage).then(this.rerenderButtons)})},rerenderButtons(){const e=document.querySelector(".btnAddWatch"),t=document.querySelector(".btnAddQueue"),a=p.getWatchedMovieIdToLocalStorage();let n=!1,o=!1;a&&(n=a.find(t=>t.id===Number(e.dataset.movieid)));const l=p.getQueueMovieIdToLocalStorage();l&&(o=l.find(e=>e.id===Number(t.dataset.movieid))),n?(e.textContent="Remove from watched",e.dataset.action="remove"):(e.textContent="Add to watched",e.dataset.action="add"),o?(t.textContent="Remove from queue",t.dataset.action="remove"):(t.textContent="Add to queue",t.dataset.action="add")},setOnclickAddQueue(){const e=document.querySelector(".btnAddQueue");e.addEventListener("click",t=>{const a=t.currentTarget.dataset.movieid;if("add"===e.dataset.action){const e=p.setQueueMovieIdToLocalStorage;h.getInfoById(a).then(e).then(this.rerenderButtons)}else"remove"===e.dataset.action&&h.getInfoById(a).then(p.deleteQueueMovieIdFromLocalStorage).then(this.rerenderButtons)})},renderLibrary(e="watched"){g.offLoadBtn();let t="";"watched"===e?t=p.getWatchedMovieIdToLocalStorage():"queue"===e&&(t=p.getQueueMovieIdToLocalStorage()),l.textArea.hidden=!0,l.cardList.innerHTML="";let a=r()(t);this.insertCardsToMainPage(a),this.setOnclick(),Array.from(document.querySelectorAll(".close")).map(t=>{t.classList.remove("hide"),t.addEventListener("click",t=>{t.preventDefault();const a=t.currentTarget.dataset.movieid;if(console.log(a),"watched"===e){p.deleteWatchedMovieIdFromLocalStorage(a);const e=t.currentTarget.parentNode;e.parentNode.removeChild(e)}else if("queue"===e){p.deleteQueueMovieIdFromLocalStorage(a);const e=t.currentTarget.parentNode;e.parentNode.removeChild(e)}Array.from(document.querySelectorAll(".close")).map(e=>e.classList.remove("hide"))})})}};g.offSidebar(),g.offLoadBtn(),g.offCloseBtn(),l.serchForm.addEventListener("submit",e=>{g.onLoadBtn(),h.currPage=1,e.preventDefault(),l.cardList.innerHTML="";const t=l.textArea.value;f.showCardsByquery(t)});const v=h.getMovieIdFromLink();v?f.card(v):f.mainPage(),l.library.addEventListener("click",()=>{f.renderLibrary(),g.onSidebar(),g.onWatchBtn()}),l.loadMoreBtn.addEventListener("click",()=>{f.showCardsByquery(l.textArea.value)}),l.sidebarWatchBtn.addEventListener("click",()=>{f.renderLibrary("watched"),g.onWatchBtn(),g.offQueueBtn()}),l.sidebarQueueBtn.addEventListener("click",()=>{f.renderLibrary("queue"),g.offWatchBtn(),g.onQueueBtn()})},RK3n:function(e,t,a){var n=a("mp5j");e.exports=(n.default||n).template({1:function(e,t,a,n,o){return'\n            <li class="genre">'+e.escapeExpression(e.lambda(null!=t?t.name:t,t))+"</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,a,n,o){var l,i,r=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c="function",d=e.escapeExpression;return'<div class="film-card container">\n    <img src="https://image.tmdb.org/t/p/w500'+d(typeof(i=null!=(i=a.poster_path||(null!=t?t.poster_path:t))?i:s)===c?i.call(r,{name:"poster_path",hash:{},data:o,loc:{start:{line:2,column:45},end:{line:2,column:60}}}):i)+'" alt="filmImg" class="img-film-card">\n\n    <div class="movieInfo">\n        <h2>'+d(typeof(i=null!=(i=a.title||(null!=t?t.title:t))?i:s)===c?i.call(r,{name:"title",hash:{},data:o,loc:{start:{line:5,column:12},end:{line:5,column:21}}}):i)+'</h2>\n        <p class="bgrn-p ">vote / votes <span class="spase">'+d(typeof(i=null!=(i=a.vote_average||(null!=t?t.vote_average:t))?i:s)===c?i.call(r,{name:"vote_average",hash:{},data:o,loc:{start:{line:6,column:60},end:{line:6,column:76}}}):i)+" / "+d(typeof(i=null!=(i=a.vote_count||(null!=t?t.vote_count:t))?i:s)===c?i.call(r,{name:"vote_count",hash:{},data:o,loc:{start:{line:6,column:79},end:{line:6,column:93}}}):i)+'</span></p>\n        <p>popularity <span class="spase"></span>'+d(typeof(i=null!=(i=a.popularity||(null!=t?t.popularity:t))?i:s)===c?i.call(r,{name:"popularity",hash:{},data:o,loc:{start:{line:7,column:49},end:{line:7,column:63}}}):i)+'</span></p>\n        <p class="bgrn-p">origin title<span class="spase"></span>'+d(typeof(i=null!=(i=a.original_title||(null!=t?t.original_title:t))?i:s)===c?i.call(r,{name:"original_title",hash:{},data:o,loc:{start:{line:8,column:65},end:{line:8,column:83}}}):i)+'</span></p>\n        <p class="float-p-genre">genre</p>\n        <ul>'+(null!=(l=a.each.call(r,null!=t?t.genres:t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:10,column:12},end:{line:12,column:21}}}))?l:"")+"        </ul>\n        <article class='about-film'>\n            <h3>About</h3>\n            <p>"+d(typeof(i=null!=(i=a.overview||(null!=t?t.overview:t))?i:s)===c?i.call(r,{name:"overview",hash:{},data:o,loc:{start:{line:16,column:15},end:{line:16,column:27}}}):i)+'</p>\n        </article>\n\n        <button class="btnAddWatch" data-action="add" data-movieID="'+d(typeof(i=null!=(i=a.id||(null!=t?t.id:t))?i:s)===c?i.call(r,{name:"id",hash:{},data:o,loc:{start:{line:19,column:68},end:{line:19,column:74}}}):i)+'">Add to watched</button>\n        <button class="btnAddQueue" data-action="add" data-movieID="'+d(typeof(i=null!=(i=a.id||(null!=t?t.id:t))?i:s)===c?i.call(r,{name:"id",hash:{},data:o,loc:{start:{line:20,column:68},end:{line:20,column:74}}}):i)+'">Add to queue</button>\n\n    </div>\n\n</div>\n'},useData:!0})},W62a:function(e,t,a){},b5mA:function(e,t,a){var n=a("mp5j");e.exports=(n.default||n).template({1:function(e,t,a,n,o){var l,i=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s=e.escapeExpression;return'\n    <div class="slider-item">\n        <a href="#id='+s("function"==typeof(l=null!=(l=a.id||(null!=t?t.id:t))?l:r)?l.call(i,{name:"id",hash:{},data:o,loc:{start:{line:6,column:21},end:{line:6,column:27}}}):l)+'" onclick="location.replace(\'#id='+s("function"==typeof(l=null!=(l=a.id||(null!=t?t.id:t))?l:r)?l.call(i,{name:"id",hash:{},data:o,loc:{start:{line:6,column:60},end:{line:6,column:66}}}):l)+'\');location.reload();">\n            <img src="https://image.tmdb.org/t/p/w500'+s("function"==typeof(l=null!=(l=a.backdrop_path||(null!=t?t.backdrop_path:t))?l:r)?l.call(i,{name:"backdrop_path",hash:{},data:o,loc:{start:{line:7,column:53},end:{line:7,column:70}}}):l)+'" alt="" />\n            <h2>'+s("function"==typeof(l=null!=(l=a.title||(null!=t?t.title:t))?l:r)?l.call(i,{name:"title",hash:{},data:o,loc:{start:{line:8,column:16},end:{line:8,column:25}}}):l)+"</h2>\n        </a>\n    </div>\n\n"},compiler:[8,">= 4.3.0"],main:function(e,t,a,n,o){var l;return'<h2 class="similarTitle">Similar movies</h2>\n<div class="similarMovies" data-slick=\'{"slidesToShow": 4, "slidesToScroll": 4}\'>\n'+(null!=(l=a.each.call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:3,column:4},end:{line:13,column:13}}}))?l:"")+"\n</div>"},useData:!0})},lfAJ:function(e,t,a){},m6Dc:function(e,t,a){}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.f607634c79419a96ac0b.js.map